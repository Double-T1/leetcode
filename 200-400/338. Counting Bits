//O(n)
var countBits = function(n) {
    let ans = [0], power = 1, accu = 1
    for (let i=1; i<=n; i++) {
        if (i>accu) power *= 2, accu += power
        ans[i] = ans[i-power]+1
    }
    return ans
};

//O(n)
//with bit manipulation, much more clever
var countBits = function(n) {
    let ans = [0]
    for (let i=1; i<=n; i++) {
        if ((i & 1) === 0) {
            ans[i] = ans[i>>1]
        } else {
            ans[i] = ans[i-1]+1
        }
    }
    return ans
};
